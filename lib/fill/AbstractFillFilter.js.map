{"version":3,"file":"AbstractFillFilter.js","sources":["../../src/fill/AbstractFillFilter.ts"],"sourcesContent":["import { Color, type ColorSource, Filter, GlProgram } from 'pixi.js';\nimport vertex from '../defaults/default.vert';\n\ninterface Options\n{\n    value: number;\n    fillColor: string;\n    name: string;\n    fragment: string;\n}\n\nexport abstract class AbstractFillFilter extends Filter\n{\n    private _fillColor: Color;\n    private uniforms: {\n        uValue: number;\n        uFillColor: Float32Array;\n    };\n    constructor({ value = 0, fillColor = '#f20', name, fragment }: Options)\n    {\n        const glProgram = GlProgram.from({ fragment, vertex, name });\n\n        super({\n            glProgram,\n            resources: {\n                [`${name}Uniforms`]: {\n                    uValue: { type: 'f32', value: 0 },\n                    uFillColor: { type: 'vec4<f32>', value: new Float32Array(4) },\n                },\n            },\n        });\n        this.uniforms = this.resources[`${name}Uniforms`].uniforms;\n        this._fillColor = new Color();\n        this.value = value;\n        this.fillColor = fillColor;\n    }\n\n    get fillColor(): ColorSource\n    {\n        return this._fillColor.value as ColorSource;\n    }\n    set fillColor(color: ColorSource)\n    {\n        this._fillColor.setValue(color);\n        this._fillColor.toArray(this.uniforms.uFillColor);\n    }\n\n    get value(): number\n    {\n        return this.uniforms.uValue;\n    }\n    set value(value: number)\n    {\n        this.uniforms.uValue = value;\n    }\n}\n"],"names":["Filter","GlProgram","vertex","Color"],"mappings":";;;;;AAWO,MAAe,2BAA2BA,cACjD,CAAA;AAAA,EAMI,WAAA,CAAY,EAAE,KAAQ,GAAA,CAAA,EAAG,YAAY,MAAQ,EAAA,IAAA,EAAM,UACnD,EAAA;AACI,IAAA,MAAM,YAAYC,iBAAU,CAAA,IAAA,CAAK,EAAE,QAAU,UAAAC,gBAAA,EAAQ,MAAM,CAAA,CAAA;AAE3D,IAAM,KAAA,CAAA;AAAA,MACF,SAAA;AAAA,MACA,SAAW,EAAA;AAAA,QACP,CAAC,GAAG,IAAiB,CAAA,QAAA,CAAA,GAAA;AAAA,UACjB,MAAQ,EAAA,EAAE,IAAM,EAAA,KAAA,EAAO,OAAO,CAAE,EAAA;AAAA,UAChC,UAAA,EAAY,EAAE,IAAM,EAAA,WAAA,EAAa,OAAO,IAAI,YAAA,CAAa,CAAC,CAAE,EAAA;AAAA,SAChE;AAAA,OACJ;AAAA,KACH,CAAA,CAAA;AACD,IAAA,IAAA,CAAK,QAAW,GAAA,IAAA,CAAK,SAAU,CAAA,CAAA,EAAG,IAAgB,CAAA,QAAA,CAAA,CAAA,CAAA,QAAA,CAAA;AAClD,IAAK,IAAA,CAAA,UAAA,GAAa,IAAIC,aAAM,EAAA,CAAA;AAC5B,IAAA,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;AACb,IAAA,IAAA,CAAK,SAAY,GAAA,SAAA,CAAA;AAAA,GACrB;AAAA,EAEA,IAAI,SACJ,GAAA;AACI,IAAA,OAAO,KAAK,UAAW,CAAA,KAAA,CAAA;AAAA,GAC3B;AAAA,EACA,IAAI,UAAU,KACd,EAAA;AACI,IAAK,IAAA,CAAA,UAAA,CAAW,SAAS,KAAK,CAAA,CAAA;AAC9B,IAAA,IAAA,CAAK,UAAW,CAAA,OAAA,CAAQ,IAAK,CAAA,QAAA,CAAS,UAAU,CAAA,CAAA;AAAA,GACpD;AAAA,EAEA,IAAI,KACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,MAAA,CAAA;AAAA,GACzB;AAAA,EACA,IAAI,MAAM,KACV,EAAA;AACI,IAAA,IAAA,CAAK,SAAS,MAAS,GAAA,KAAA,CAAA;AAAA,GAC3B;AACJ;;;;"}